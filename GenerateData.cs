// #define MODIFIED_CANCELLATION_DATA

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Linq;
using System.Text;
using Encog.Normalize.Input;
using Encog.Normalize;
using Encog.Normalize.Output.Nominal;
using Encog.Normalize.Target;
using Encog.Normalize.Output;
using Encog.Normalize.Segregate.Index;
using Encog.Normalize.Segregate;
using Encog.Engine;
using Encog.Engine.Util;
using Encog.Persist;
using IVF;
using IVF.ViewModel;



namespace Encog.Examples.IVF
{
    public class GenerateData 
    {
        private MainViewModel model;

        public  const int RAW_COLUMNS = 53;
        public static double [][] RAW_INPUT =
        {

        //                       ID ,  Dose5,  Dose7,  Dose9,  Dose10,  Dose11,  E2Day5,  E2Day7,  E2Day9,  E2Day10,  E2Day11,  LT10D5,  L1D5,  L2D5,  L3D5,  L4D5,  L5D5,  LT10D7,  L1D7,  L2D7,  L3D7,  L4D7,  L5D7,  LT10D9,  L1D9,  L2D9,  L3D9,  L4D9,  L5D9,  Lt10D10,  L1D10,  L2D10,  L3D10,  L4D10,  L5D10,  Lt10D11,  L1D11,  L2D11,  L3D11,  L4D11,  L5D11,  HCGD9,  HCGD10,  HCGD11,  DownD7,  DownD9,  DownD10,  DownD11,  CancelD5,  CancelD7,  CancelD9,  CancelD10,  CancelD11
        //                       0  , 1     , 2     , 3     , 4      , 5      , 6      , 7      , 8      , 9       , 10      , 11     , 12   , 13   , 14   , 15   , 16   , 17     , 18   , 19   , 20   , 21   , 22   , 23     , 24   , 25   , 26   , 27   , 28   , 29      , 30    , 31    , 32    , 33    , 34    , 35      , 36    ,    37 ,     38,     39,     40,     41,     42 ,     43 ,     44 ,     45 ,     46  ,     47  ,     48   ,     49   ,     50   ,     51    ,     52     
        new double[RAW_COLUMNS] {0  ,225    ,225    ,150    ,75      ,0       ,343     ,953     ,2483    ,3152     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,5       ,12    ,0     ,0     ,0     ,0     ,0       ,16    ,16    ,15    ,14    ,0     ,0        ,18     ,18     ,18     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {1  ,150    ,150    ,75     ,0       ,0       ,440     ,1288    ,2952    ,0        ,0        ,5       ,11    ,11    ,0     ,0     ,0     ,0       ,14    ,14    ,13    ,13    ,0     ,0       ,19    ,18    ,18    ,18    ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,1      ,0       ,0       ,0       ,1       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {2  ,225    ,225    ,150    ,150     ,0       ,283     ,357     ,1483    ,1691     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,14    ,13    ,13    ,12    ,0     ,0       ,18    ,17    ,16    ,16    ,0     ,0        ,20     ,20     ,19     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {3  ,225    ,150    ,75     ,50      ,0       ,459     ,1537    ,2200    ,3098     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,13    ,12    ,12    ,0     ,0       ,16    ,16    ,15    ,15    ,0     ,0        ,20     ,19     ,18     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,1       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {4  ,150    ,150    ,75     ,50      ,0       ,574     ,1381    ,2436    ,3397     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,16    ,15    ,15    ,14    ,0     ,0       ,19    ,17    ,17    ,17    ,0     ,0        ,22     ,19     ,19     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {5  ,225    ,225    ,150    ,75      ,0       ,381     ,890     ,3119    ,4100     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,14    ,13    ,12    ,12    ,0     ,0       ,19    ,17    ,17    ,17    ,0     ,0        ,22     ,20     ,19     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {6  ,150    ,150    ,150    ,75      ,0       ,622     ,912     ,1811    ,1430     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,15    ,14    ,13    ,0     ,0       ,19    ,17    ,17    ,16    ,0     ,0        ,21     ,19     ,18     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {7  ,225    ,150    ,75     ,75      ,0       ,562     ,1461    ,2407    ,3287     ,0        ,10      ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,14    ,14    ,13    ,0     ,0       ,18    ,17    ,16    ,16    ,0     ,0        ,19     ,19     ,18     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,1       ,1       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {8  ,150    ,150    ,150    ,150     ,150     ,211     ,591     ,1314    ,1957     ,2000     ,10      ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,13    ,12    ,12    ,0     ,0       ,15    ,15    ,14    ,14    ,0     ,0        ,18     ,17     ,16     ,16     ,0      ,0        ,21     ,20     ,19     ,18     ,18     ,0      ,0       ,1       ,0       ,0       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {9  ,150    ,150    ,150    ,75      ,0       ,202     ,593     ,1506    ,2204     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,14    ,14    ,13    ,0     ,0       ,18    ,17    ,16    ,15    ,0     ,0        ,21     ,20     ,18     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {10 ,150    ,150    ,150    ,0       ,0       ,317     ,680     ,1548    ,0        ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,15    ,14    ,14    ,0     ,0       ,21    ,20    ,19    ,18    ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,1      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {11 ,150    ,150    ,150    ,75      ,0       ,255     ,632     ,1406    ,2694     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,12    ,12    ,11    ,0     ,0       ,16    ,15    ,15    ,14    ,0     ,0        ,23     ,22     ,19     ,19     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {12 ,150    ,150    ,150    ,150     ,0       ,327     ,994     ,1668    ,2200     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,14    ,12    ,12    ,0     ,0       ,18    ,17    ,16    ,15    ,0     ,0        ,21     ,21     ,20     ,19     ,19     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {13 ,150    ,150    ,150    ,75      ,0       ,126     ,437     ,1283    ,1743     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,12    ,12    ,11    ,0     ,0       ,17    ,16    ,15    ,14    ,0     ,0        ,19     ,19     ,18     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {14 ,150    ,75     ,75     ,50      ,0       ,635     ,1318    ,2355    ,3063     ,0        ,10      ,0     ,0     ,0     ,0     ,0     ,0       ,17    ,15    ,14    ,14    ,0     ,0       ,19    ,17    ,17    ,16    ,0     ,0        ,23     ,22     ,20     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,1       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},



#if !MODIFIED_CANCELLATION_DATA
        // cancellations
        new double[RAW_COLUMNS] {15 ,150    ,0      ,0      ,0       ,0       ,120     ,200     ,0       ,0        ,0        ,3       ,12    ,12    ,0     ,0     ,0     ,2       ,14    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {16 ,150    ,0      ,0      ,0       ,0       ,90      ,100     ,0       ,0        ,0        ,4       ,12    ,0     ,0     ,0     ,0     ,2       ,12    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {17 ,150    ,0      ,0      ,0       ,0       ,220     ,292     ,0       ,0        ,0        ,1       ,14    ,13    ,12    ,12    ,0     ,2       ,16    ,13    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {18 ,150    ,0      ,0      ,0       ,0       ,70      ,110     ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,0       ,13    ,12    ,12    ,12    ,12    ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {19 ,150    ,150    ,0      ,0       ,0       ,212     ,300     ,310     ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,15    ,12    ,12    ,0     ,0     ,0       ,16    ,12    ,12    ,12    ,12    ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {20 ,150    ,0      ,0      ,0       ,0       ,110     ,192     ,0       ,0        ,0        ,0       ,14    ,12    ,12    ,12    ,12    ,2       ,14    ,13    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {21 ,150    ,0      ,0      ,0       ,0       ,30      ,70      ,0       ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,15    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {22 ,150    ,0      ,0      ,0       ,0       ,92      ,150     ,170     ,0        ,0        ,2       ,12    ,12    ,12    ,0     ,0     ,1       ,13    ,12    ,12    ,12    ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {23 ,150    ,150    ,0      ,0       ,0       ,118     ,272     ,300     ,0        ,0        ,3       ,16    ,14    ,0     ,0     ,0     ,3       ,16    ,14    ,0     ,0     ,0     ,0       ,17    ,12    ,12    ,12    ,12    ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
        new double[RAW_COLUMNS] {24 ,150    ,150    ,0      ,0       ,0       ,30      ,50      ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,2       ,13    ,12    ,12    ,0     ,0     ,0       ,18    ,14    ,12    ,10    ,10    ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
#else
        // modified cancellation data
        new double[RAW_COLUMNS] {15 ,150    ,0      ,0      ,0       ,0       ,120     ,200     ,0       ,0        ,0        ,3       ,12    ,12    ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {16 ,150    ,0      ,0      ,0       ,0       ,90      ,100     ,0       ,0        ,0        ,4       ,12    ,0     ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {17 ,150    ,0      ,0      ,0       ,0       ,220     ,292     ,0       ,0        ,0        ,1       ,14    ,13    ,12    ,12    ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {18 ,150    ,0      ,0      ,0       ,0       ,70      ,110     ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,0       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {19 ,150    ,150    ,0      ,0       ,0       ,212     ,300     ,310     ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {20 ,150    ,0      ,0      ,0       ,0       ,110     ,192     ,0       ,0        ,0        ,0       ,14    ,12    ,12    ,12    ,12    ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {21 ,150    ,0      ,0      ,0       ,0       ,30      ,70      ,0       ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {22 ,150    ,0      ,0      ,0       ,0       ,92      ,150     ,170     ,0        ,0        ,2       ,12    ,12    ,12    ,0     ,0     ,1       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {23 ,150    ,150    ,0      ,0       ,0       ,118     ,272     ,300     ,0        ,0        ,3       ,16    ,14    ,0     ,0     ,0     ,3       ,16    ,14    ,0     ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
        new double[RAW_COLUMNS] {24 ,150    ,150    ,0      ,0       ,0       ,30      ,50      ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,2       ,13    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
#endif
        };

        public static string []ColumnTitles = 
            {
                "ID", "Dose5", "Dose7", "Dose9", "Dose10", "Dose11", "E2Day5", "E2Day7", "E2Day9", "E2Day10", "E2Day11",
                "LT10D5", "L1D5", "L2D5", "L3D5", "L4D5", "L5D5", "LT10D7", "L1D7", "L2D7", "L3D7", "L4D7", "L5D7",
                "LT10D9", "L1D9", "L2D9", "L3D9", "L4D9", "L5D9", "Lt10D10", "L1D10", "L2D10", "L3D10", "L4D10", "L5D10",
                "Lt10D11", "L1D11", "L2D11", "L3D11", "L4D11", "L5D11", "HCGD9", "HCGD10", "HCGD11", "DownD7", "DownD9",
                "DownD10", "DownD11", "CancelD5", "CancelD7", "CancelD9", "CancelD10", "CancelD11"
            };

        public static double[][] RAW_TEST =
        {
        //                       ID ,  Dose5,  Dose7,  Dose9,  Dose10,  Dose11,  E2Day5,  E2Day7,  E2Day9,  E2Day10,  E2Day11,  LT10D5,  L1D5,  L2D5,  L3D5,  L4D5,  L5D5,  LT10D7,  L1D7,  L2D7,  L3D7,  L4D7,  L5D7,  LT10D9,  L1D9,  L2D9,  L3D9,  L4D9,  L5D9,  Lt10D10,  L1D10,  L2D10,  L3D10,  L4D10,  L5D10,  Lt10D11,  L1D11,  L2D11,  L3D11,  L4D11,  L5D11,  HCGD9,  HCGD10,  HCGD11,  DownD7,  DownD9,  DownD10,  DownD11,  CancelD5,  CancelD7,  CancelD9,  CancelD10,  CancelD11
        //                       0  , 1     , 2     , 3     , 4      , 5      , 6      , 7      , 8      , 9       , 10      , 11     , 12   , 13     14   , 15   , 16   , 17     , 18   , 19   , 20   , 21   , 22   , 23     , 24   , 25   , 26   , 27   , 28   , 29      , 30    , 31    , 32    , 33    , 34    , 35      , 36    ,    37 ,     38,     39,     40,     41,     42 ,     43 ,     44 ,     45 ,     46  ,     47  ,     48   ,     49   ,     50   ,     51    ,     52     
        new double[RAW_COLUMNS] {0  ,225    ,225    ,150    ,75      ,0       ,343     ,953     ,2483    ,3152     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,5       ,12    ,0     ,0     ,0     ,0     ,0       ,16    ,16    ,15    ,14    ,0     ,0        ,18     ,18     ,18     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {1  ,150    ,150    ,75     ,0       ,0       ,440     ,1288    ,2952    ,0        ,0        ,5       ,11    ,11    ,0     ,0     ,0     ,0       ,14    ,14    ,13    ,13    ,0     ,0       ,19    ,18    ,18    ,18    ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,1      ,0       ,0       ,0       ,1       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {2  ,225    ,225    ,150    ,150     ,0       ,283     ,357     ,1483    ,1691     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,14    ,13    ,13    ,12    ,0     ,0       ,18    ,17    ,16    ,16    ,0     ,0        ,20     ,20     ,19     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {3  ,225    ,150    ,75     ,50      ,0       ,459     ,1537    ,2200    ,3098     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,13    ,12    ,12    ,0     ,0       ,16    ,16    ,15    ,15    ,0     ,0        ,20     ,19     ,18     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,1       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {4  ,150    ,150    ,75     ,50      ,0       ,574     ,1381    ,2436    ,3397     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,16    ,15    ,15    ,14    ,0     ,0       ,19    ,17    ,17    ,17    ,0     ,0        ,22     ,19     ,19     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {5  ,225    ,225    ,150    ,75      ,0       ,381     ,890     ,3119    ,4100     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,14    ,13    ,12    ,12    ,0     ,0       ,19    ,17    ,17    ,17    ,0     ,0        ,22     ,20     ,19     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,1       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {6  ,150    ,150    ,150    ,75      ,0       ,622     ,912     ,1811    ,1430     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,15    ,14    ,13    ,0     ,0       ,19    ,17    ,17    ,16    ,0     ,0        ,21     ,19     ,18     ,18     ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {7  ,225    ,150    ,75     ,75      ,0       ,562     ,1461    ,2407    ,3287     ,0        ,10      ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,14    ,14    ,13    ,0     ,0       ,18    ,17    ,16    ,16    ,0     ,0        ,19     ,19     ,18     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,1       ,1       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {8  ,150    ,150    ,150    ,150     ,150     ,211     ,591     ,1314    ,1957     ,2000     ,10      ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,13    ,12    ,12    ,0     ,0       ,15    ,15    ,14    ,14    ,0     ,0        ,18     ,17     ,16     ,16     ,0      ,0        ,21     ,20     ,19     ,18     ,18     ,0      ,0       ,1       ,0       ,0       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {9  ,150    ,150    ,150    ,75      ,0       ,202     ,593     ,1506    ,2204     ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,14    ,14    ,13    ,0     ,0       ,18    ,17    ,16    ,15    ,0     ,0        ,21     ,20     ,18     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {10 ,150    ,150    ,150    ,0       ,0       ,317     ,680     ,1548    ,0        ,0        ,7       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,15    ,14    ,14    ,0     ,0       ,21    ,20    ,19    ,18    ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,1      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {11 ,150    ,150    ,150    ,75      ,0       ,255     ,632     ,1406    ,2694     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,12    ,12    ,11    ,0     ,0       ,16    ,15    ,15    ,14    ,0     ,0        ,23     ,22     ,19     ,19     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {12 ,150    ,150    ,150    ,150     ,0       ,327     ,994     ,1668    ,2200     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,15    ,14    ,12    ,12    ,0     ,0       ,18    ,17    ,16    ,15    ,0     ,0        ,21     ,21     ,20     ,19     ,19     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {13 ,150    ,150    ,150    ,75      ,0       ,126     ,437     ,1283    ,1743     ,0        ,8       ,0     ,0     ,0     ,0     ,0     ,0       ,13    ,12    ,12    ,11    ,0     ,0       ,17    ,16    ,15    ,14    ,0     ,0        ,19     ,19     ,18     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,0       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {14 ,150    ,75     ,75     ,50      ,0       ,635     ,1318    ,2355    ,3063     ,0        ,10      ,0     ,0     ,0     ,0     ,0     ,0       ,17    ,15    ,14    ,14    ,0     ,0       ,19    ,17    ,17    ,16    ,0     ,0        ,23     ,22     ,20     ,18     ,18     ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,1       ,0       ,1       ,0       ,1        ,0        ,0         ,0         ,0         ,0          ,0},

#if !MODIFIED_CANCELLATION_DATA
        // cancellations
        new double[RAW_COLUMNS] {15 ,150    ,0      ,0      ,0       ,0       ,120     ,200     ,0       ,0        ,0        ,3       ,12    ,12    ,0     ,0     ,0     ,2       ,14    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {16 ,150    ,0      ,0      ,0       ,0       ,90      ,100     ,0       ,0        ,0        ,4       ,12    ,0     ,0     ,0     ,0     ,2       ,12    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {17 ,150    ,0      ,0      ,0       ,0       ,220     ,292     ,0       ,0        ,0        ,1       ,14    ,13    ,12    ,12    ,0     ,2       ,16    ,13    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {18 ,150    ,0      ,0      ,0       ,0       ,70      ,110     ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,0       ,13    ,12    ,12    ,12    ,12    ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {19 ,150    ,150    ,0      ,0       ,0       ,212     ,300     ,310     ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,15    ,12    ,12    ,0     ,0     ,0       ,16    ,12    ,12    ,12    ,12    ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {20 ,150    ,0      ,0      ,0       ,0       ,110     ,192     ,0       ,0        ,0        ,0       ,14    ,12    ,12    ,12    ,12    ,2       ,14    ,13    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {21 ,150    ,0      ,0      ,0       ,0       ,30      ,70      ,0       ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,15    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {22 ,150    ,0      ,0      ,0       ,0       ,92      ,150     ,170     ,0        ,0        ,2       ,12    ,12    ,12    ,0     ,0     ,1       ,13    ,12    ,12    ,12    ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {23 ,150    ,150    ,0      ,0       ,0       ,118     ,272     ,300     ,0        ,0        ,3       ,16    ,14    ,0     ,0     ,0     ,3       ,16    ,14    ,0     ,0     ,0     ,0       ,17    ,12    ,12    ,12    ,12    ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
        new double[RAW_COLUMNS] {24 ,150    ,150    ,0      ,0       ,0       ,30      ,50      ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,2       ,13    ,12    ,12    ,0     ,0     ,0       ,18    ,14    ,12    ,10    ,10    ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
#else
        // modified cancellation data
        new double[RAW_COLUMNS] {15 ,150    ,0      ,0      ,0       ,0       ,120     ,200     ,0       ,0        ,0        ,3       ,12    ,12    ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {16 ,150    ,0      ,0      ,0       ,0       ,90      ,100     ,0       ,0        ,0        ,4       ,12    ,0     ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {17 ,150    ,0      ,0      ,0       ,0       ,220     ,292     ,0       ,0        ,0        ,1       ,14    ,13    ,12    ,12    ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {18 ,150    ,0      ,0      ,0       ,0       ,70      ,110     ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,0       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {19 ,150    ,150    ,0      ,0       ,0       ,212     ,300     ,310     ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {20 ,150    ,0      ,0      ,0       ,0       ,110     ,192     ,0       ,0        ,0        ,0       ,14    ,12    ,12    ,12    ,12    ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {21 ,150    ,0      ,0      ,0       ,0       ,30      ,70      ,0       ,0        ,0        ,3       ,15    ,12    ,0     ,0     ,0     ,2       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {22 ,150    ,0      ,0      ,0       ,0       ,92      ,150     ,170     ,0        ,0        ,2       ,12    ,12    ,12    ,0     ,0     ,1       ,0    ,0   ,0    ,0     ,0     ,0          ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,1         ,0         ,0          ,0},
        new double[RAW_COLUMNS] {23 ,150    ,150    ,0      ,0       ,0       ,118     ,272     ,300     ,0        ,0        ,3       ,16    ,14    ,0     ,0     ,0     ,3       ,16    ,14    ,0     ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
        new double[RAW_COLUMNS] {24 ,150    ,150    ,0      ,0       ,0       ,30      ,50      ,0       ,0        ,0        ,1       ,13    ,12    ,12    ,12    ,0     ,2       ,13    ,12    ,12    ,0     ,0     ,0       ,0     ,0     ,0     ,0     ,0     ,0        ,0      ,0      ,0      ,0      ,0      ,0        ,0      ,0      ,0      ,0      ,0      ,0      ,0       ,0       ,0       ,0       ,0        ,0        ,0         ,0         ,1         ,0          ,0},
#endif
        };

        // --------------------------------------------------------------
        public static  List<int> TrainingRows = new List<int>() { 
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,   // non cancelled 
            15, 16, 17, 18, 19, 20, 21, 22, 23, 24              // cancelled
        };
        // private static List<int> TrainingRows = new List<int>() { 0, 1, 2, 3, 4, 5, 6, 7, 8, };

        // --------------------------------------------------------------
        public static int[] Day5InputColumns = {   1,
                                                 6, 7,
                                                 11, 12, 13, 14, 15, 16,
                                                 17, 18, 19, 20, 21, 22
                                             };
        public static int[] Day5IdealColumns = {41, 44, 48 };       // HCG9 (Bogus), Down, Cancel5
        // --------------------------------------------------------------
        public static int[] Day7InputColumns = {   1,
                                                 6, 7,
                                                 11, 12, 13, 14, 15, 16,
                                                 17, 18, 19, 20, 21, 22
                                             };
        public static int[] Day7IdealColumns = { 41, 44, 49 };      // HCG9 (Bogus), Down, Cancel7

        // --------------------------------------------------------------
        public static int[] Day9InputColumns = {   1, 2, 
                                                 6, 7, 8,
                                                 11, 12, 13, 14, 15, 16, 
                                                 17, 18, 19, 20, 21, 22, 
                                                 23, 24, 25, 26, 27, 28 
                                             };
        public static int[] Day9IdealColumns = { 41, 45, 50 };       // HCG9, Down, Cancel9

        // --------------------------------------------------------------
        public static int[] Day10InputColumns = {  1, 2, 3,
                                                 6, 7, 8, 9,
                                                 11, 12, 13, 14, 15, 16, 
                                                 17, 18, 19, 20, 21, 22, 
                                                 23, 24, 25, 26, 27, 28,
                                                 29, 30, 31, 32, 33, 34, 
                                              };
        public static int[] Day10IdealColumns = { 42, 46, 51 };         // HCG10, Down, Cancel10

        // --------------------------------------------------------------
        public static int[] Day11InputColumns = {  1, 2, 3, 4,
                                                 6, 7, 8, 9, 10,
                                                 11, 12, 13, 14, 15, 16, 
                                                 17, 18, 19, 20, 21, 22, 
                                                 23, 24, 25, 26, 27, 28,
                                                 29, 30, 31, 32, 33, 34, 
                                                 35, 36, 37, 38, 39, 40,
                                              };
        public static int[] Day11IdealColumns = { 43, 47, 52 };          // HCG11, Down, Cancel11

        // --------------------------------------------------------------

        public static double[][] ExtractRowsAndCols(double[][] original, IList<int> rows, IList<int> cols)
        {
            double[][] output = EngineArray.AllocateDouble2D(rows.Count, cols.Count);
            int r = 0;
            foreach (var row in rows)
            {
                int c = 0;
                foreach (var col in cols)
                {
                    output[r][c++] = original[row][col];
                }
                r++;
            }
            return output;
        }

        public static DataNormalization NormalizeDay(double [][] day, double [][] dayNormalized, IList<int> rows, IList<int> cols, double lo, double hi)
        {
            IInputField [] ifield = new IInputField[cols.Count];

            DataNormalization norm = new DataNormalization();
            norm.Report = new NullStatusReportable();

            norm.Storage = new NormalizationStorageArray2D(dayNormalized);

            for (int i = 0; i < cols.Count; i++)
            {
                norm.AddInputField(ifield[i] = new InputFieldArray2D(true, day, i));
                norm.AddOutputField(new OutputFieldRangeMapped(ifield[i], lo, hi));
            }

            return norm;
        }

        public static void GenerateDay(DailyData data, List<int> indices)
        {
            switch (data.Day)
            {
                case 5:
                    data.InputColumns = Day5InputColumns;
                    data.IdealColumns = Day5IdealColumns;
                    data.FileName = Constant.NORMALIZED_FILE_5;
                    break;
                case 7:
                    data.InputColumns = Day7InputColumns;
                    data.IdealColumns = Day7IdealColumns;
                    data.FileName = Constant.NORMALIZED_FILE_7;
                    break;
                case 9:
                    data.InputColumns = Day9InputColumns;
                    data.IdealColumns = Day9IdealColumns;
                    data.FileName = Constant.NORMALIZED_FILE_9;
                    break;
                case 10:
                    data.InputColumns = Day10InputColumns;
                    data.IdealColumns = Day10IdealColumns;
                    data.FileName = Constant.NORMALIZED_FILE_10;
                    break;
                case 11:
                    data.InputColumns = Day11InputColumns;
                    data.IdealColumns = Day11IdealColumns;
                    data.FileName = Constant.NORMALIZED_FILE_11;
                    break;
                default:
                    Debug.Assert(false, "Invalid day index");
                    break;
            }
            // norm.Storage = new NormalizationStorageCSV(fileName);
            // norm.Storage = new NormalizationStorageArray2D(dayNormalized);

            data.Input = ExtractRowsAndCols(RAW_INPUT, indices, data.InputColumns);
            data.InputNormalized = Encog.Engine.Util.EngineArray.ArrayCopy(data.Input);
            data.Ideal = ExtractRowsAndCols(RAW_INPUT, indices, data.IdealColumns);
            data.Norm = NormalizeDay(data.Input, data.InputNormalized, indices, data.InputColumns, 0.1, 0.9); 
            data.Norm.Process();

            data.Test = Encog.Engine.Util.EngineArray.ArrayCopy(RAW_TEST);

            //EncogPersistedCollection encog = new EncogPersistedCollection(
            //    Constant.TRAINED_NETWORK_FILE, FileMode.OpenOrCreate);
            //encog.Add(Constant.NORMALIZATION_NAME, norm);

        }

    }
}
